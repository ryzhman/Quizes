{"version":3,"sources":["../../../../src/javascripts/login/auth.js"],"names":["users","require","auth","validateCredentials","event","preventDefault","login","document","getElementById","value","pass","undefined","user","validateLogin","validatePass","validateFail","usersList","getUsers","i","length","name","validateSuccess","alert","console","log","module","exports"],"mappings":"AAAA;;;AAGA;;AACA,IAAIA,QAAQC,QAAQ,kBAAR,CAAZ;;AAEA,IAAIC,OAAO;AACPC,yBAAqB,6BAAUC,KAAV,EAAiB;AAClCA,cAAMC,cAAN,GADkC,CACV;AACxB,YAAIC,QAAQC,SAASC,cAAT,CAAwB,OAAxB,EAAiCC,KAA7C;AACA,YAAIC,OAAOH,SAASC,cAAT,CAAwB,MAAxB,EAAgCC,KAA3C;;AAEA,YAAIH,UAAU,IAAV,IAAkBA,UAAUK,SAA5B,IAAyCD,SAAS,IAAlD,IAA0DA,SAASC,SAAvE,EAAkF;AAC9E,gBAAIC,OAAOC,cAAcP,KAAd,CAAX;AACA,gBAAIM,SAAS,IAAb,EAAmB;AACfE,6BAAaF,IAAb,EAAmBF,IAAnB;AACH,aAFD,MAEO;AACHK;AACH;AACJ;AACJ;AAdM,CAAX;;AAiBA,SAASF,aAAT,CAAuBP,KAAvB,EAA8B;AAC1B,QAAIU,YAAYhB,MAAMiB,QAAN,EAAhB;AACA,QAAIL,OAAO,IAAX;AACA,SAAK,IAAIM,IAAI,CAAb,EAAgBA,IAAIF,UAAUG,MAA9B,EAAsCD,GAAtC,EAA2C;AACvC,YAAIZ,UAAUU,UAAUE,CAAV,EAAaE,IAA3B,EAAiC;AAC7BR,mBAAOI,UAAUE,CAAV,CAAP;AACA;AACH;AACJ;AACD,WAAON,IAAP;AACH;;AAED,SAASE,YAAT,CAAsBF,IAAtB,EAA4BF,IAA5B,EAAkC;AAC9B,QAAIA,SAASE,KAAKF,IAAlB,EAAwB;AACpBW,wBAAgBT,IAAhB;AACH,KAFD,MAEO;AACHG;AACH;AACJ;;AAED,SAASA,YAAT,GAAwB;AACpBO,UAAM,uCAAN;AACAf,aAASC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjC,GAAyC,EAAzC;AACAF,aAASC,cAAT,CAAwB,MAAxB,EAAgCC,KAAhC,GAAwC,EAAxC;AACH;;AAED,SAASY,eAAT,CAAyBT,IAAzB,EAA+B;AAC3BW,YAAQC,GAAR,CAAYZ,IAAZ;AACA;;;;;AAKH;;AAEDa,OAAOC,OAAP,GAAiBxB,IAAjB","file":"auth.js","sourcesContent":["/**\r\n * Created by Олександр on 09.01.2017.\r\n */\r\n\"use strict\";\r\nlet users = require('../data/users.js');\r\n\r\nlet auth = {\r\n    validateCredentials: function (event) {\r\n        event.preventDefault(); //prevent page from reloading\r\n        let login = document.getElementById(\"login\").value;\r\n        let pass = document.getElementById(\"pass\").value;\r\n\r\n        if (login !== null && login !== undefined && pass !== null && pass !== undefined) {\r\n            let user = validateLogin(login);\r\n            if (user !== null) {\r\n                validatePass(user, pass);\r\n            } else {\r\n                validateFail();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nfunction validateLogin(login) {\r\n    let usersList = users.getUsers();\r\n    let user = null;\r\n    for (let i = 0; i < usersList.length; i++) {\r\n        if (login === usersList[i].name) {\r\n            user = usersList[i];\r\n            break;\r\n        }\r\n    }\r\n    return user;\r\n}\r\n\r\nfunction validatePass(user, pass) {\r\n    if (pass === user.pass) {\r\n        validateSuccess(user);\r\n    } else {\r\n        validateFail();\r\n    }\r\n}\r\n\r\nfunction validateFail() {\r\n    alert(\"Problems during logging in. Try again\");\r\n    document.getElementById(\"login\").value = \"\";\r\n    document.getElementById(\"pass\").value = \"\";\r\n}\r\n\r\nfunction validateSuccess(user) {\r\n    console.log(user);\r\n    /*if(user.group === 'admin'){\r\n     window.location.href=\"./src/tmpl/admin.html\";\r\n     } else if (user.group === 'client') {\r\n     window.location.href=\"./src/tmpl/userProfile.html\";\r\n     }*/\r\n}\r\n\r\nmodule.exports = auth;"]}